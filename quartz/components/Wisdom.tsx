/*
 * Wisdom 组件：在侧边栏随机显示预设的哲学/经文名句。
 * @param {Object} opts - 组件可选配置
 * @param {string} opts.displayClass - 控制显示隐藏的 CSS 类名
 * 使用方式：Component.Wisdom({ displayClass: "desktop-only" })
*/

import { QuartzComponent, QuartzComponentConstructor, QuartzComponentProps } from "./types"

const quotes = [
  "深渊与深渊响应，波浪洪涛漫过我身。",
  "万物满有困乏，人不能说尽。",
  "已有的事后必再有，已行的事后必再行，日光之下并无新事。",
  "风随着意思吹，你听见风的响声，却不晓得从哪里来，往哪里去。",
  "我曾在床上，寻觅我心所爱的；我寻找，竟寻不见。",
  "你要看这番作为，使为曲的，谁能变直呢？",
  "智慧胜过打仗的兵器；但一个错误能败坏许多美善。",
  "光来到世上，人因自己的行为，不爱光，倒爱黑暗。",
  "凡你手所当做的事，要尽力去做；因为在你所必去的终点，没有工作，没有谋算。",
  "我见日光之下所做的一切，都是虚空，都是捕风。",
  "智慧人在哪里？文士在哪里？这世上的辩士在哪里？",
  "你们要进窄门。因为引到灭亡，那门是宽的，路是大的，进去的人也多。",
  "草必枯干，花必凋残，唯有真实的真理必永远立定。",
  "你们必晓得真理，真理必叫你们得以自由。",
  "隐秘的事是属于更高意志的。",
  "看哪，我做了一件新事；如今要发现，你们岂不知道吗？",
  "死啊，你得胜的权势在哪里？你的毒钩在哪里？",
  "鼎为炼银，炉为炼金，唯有时间熬炼人心。",
  "你要保守你心，胜过保守一切，因为一生的果效是由心发出。",
  "即便我有全备的信，叫我能够移山，却没有爱，我就算不得什么。",
  "因为我们现在所看的，模糊不清，镜子般的影儿。",
  "应当趋向清晨，好像晨露滴在草上。",
  "深渊说：不在我内；沧海说：不在我中。",
  "人迎接黎明，如同迎接死亡的影子。",
  "智慧比珍珠更美；一切可喜爱的，都不足与比较。",
  "我们在这里本没有长存的城，乃是寻求那将来的城。",
  "凡事都有定期，天下万务都有定时。",
  "生有时，死有时；栽种有时，拔出所栽种的也有时。",
  "静默有时，言语有时；喜爱有时，恨恶有时。",
  "万物各按其时成为美好，又将永恒安置在世人心里。",
  "人心筹算自己的道路，唯有脚步被暗中指引。",
  "你要专心仰赖真道，不可倚靠自己的聪明。",
  "宁可在房顶的角上居住，不在宽阔的房屋与争吵的人同住。",
  "人带不走手中的尘土，却带得走眼里的泪水。",
  "凡劳苦担重担的人可以到我这里来，我就使你们得安息。",
  "手扶着犁向后看的，不配进入那应许之地。",
  "你们中间谁是没有过错的，谁就可以先拿石头打她。",
  "不要为明天忧虑，因为明天自有明天的忧虑；一天的难处一天当就够了。",
  "那光是真光，照亮一切生在世上的人。",
  "看哪，我站在门外叩门，若有听见我声音就开门的，我要进到他那里去。",
  "万物的结局近了。所以，你们要谨慎自守，儆醒思考。",
  "人若赚得全世界，赔上自己的生命，有什么益处呢？",
  "压伤的芦苇，他不折断；将残的灯火，他不吹灭。",
  "我的心哪，你为何忧闷？为何在我里面烦躁？",
  "正如铁磨铁，磨出刃来，朋友相感也是如此。",
  "指教我们怎样数算自己的日子，好叫我们得着智慧的心。",
]

export default (() => {
  const Wisdom: QuartzComponent = ({ displayClass }: QuartzComponentProps) => {
    const quote = quotes[Math.floor(Math.random() * quotes.length)]
    return (
      <div class={`wisdom-box ${displayClass ?? ""}`}>
        <p>{quote}</p>
      </div>
    )
  }

  Wisdom.css = `
  .wisdom-box {
    margin-top: 2rem;
    padding: 1rem;
    border-left: 2px solid var(--lightgray);
    font-style: italic;
    opacity: 0.4;         /* 极低不透明度，不显眼 */
    transition: opacity 0.3s ease;
  }
  .wisdom-box:hover {
    opacity: 0.8;         /* 鼠标悬停时才清晰 */
  }
  .wisdom-box p {
    font-size: 0.85rem;
    color: var(--gray);
    line-height: 1.6;
  }
  `
  return Wisdom
}) satisfies QuartzComponentConstructor